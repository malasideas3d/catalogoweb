<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" type="text/css" href="./index.css">
    <script type="module" src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="./index.js"></script>
    <title></title>
    <link rel="shortcut icon" type="image/x-icon" href="media/logofavicon.ico">
</head>
<body>
    <script>
        // Paso 1: Reemplaza TU_ID_DE_ARCHIVO con el ID de tu archivo de Google Drive
        const googleDriveFileId = '1-_aa4edxuc6LhyEuFyYBUGUCuuQd-k6E'; 
        const jsonUrl = `https://drive.google.com/uc?export=download&id=${googleDriveFileId}`;
        // Paso 2: Usa un proxy CORS para evitar el error
        const corsProxyUrl = 'https://api.allorigins.win/raw?url=';
        // Combina el proxy con tu URL del archivo de Google Drive
        const finalUrl = `${corsProxyUrl}${encodeURIComponent(jsonUrl)}`;
        // Paso 3: Usar la API Fetch para leer el archivo JSON
        fetch(finalUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('No se pudo cargar el archivo. Verifica el ID y los permisos.');
                }
                return response.json(); // Convertir la respuesta a JSON
            })
            .then(data => {
                // ... (el resto de tu código para mostrar los datos es el mismo)
                const contentDiv = document.getElementById('json-content');
                if (Array.isArray(data)) {
                    console.log('Datos cargados:', data);
                    document.title = data[0].cNombreEmpresa + " - " + data[0].cNombrePagina;
                    // Cargar imagen splash screen
                    fImagenCarga('','idImagenCarga',data[0].cLogoEmpresa,'150px', document, data[0].cFondoEmpresa)
                } else {
                    contentDiv.textContent = 'El archivo JSON no contiene un array.';
                }
            })
            .catch(error => {
                console.error('Error al cargar el archivo JSON:', error);
                document.getElementById('json-content').textContent = 'Error al cargar los datos: ' + error.message;
            });
    </script>
    
    <header id="header-dinamico"></header>
    <main class="body-content">
        <h2>Bienvenido a mi sitio</h2>
        <p>Este es el contenido principal de la página, diseñado para ser adaptable a cualquier dispositivo.</p>
        <div class="tarjetas">
            <div class="tarjeta">
                <h3>Tarjeta 1</h3>
                <p>Contenido de la tarjeta.</p>
            </div>
            <div class="tarjeta">
                <h3>Tarjeta 2</h3>
                <p>Contenido de la tarjeta.</p>
            </div>
            <div class="tarjeta">
                <h3>Tarjeta 3</h3>
                <p>Contenido de la tarjeta.</p>
            </div>
        </div>
    </main>
    <footer class="footer">
        <p>&copy; 2025 Mi Compañía. Todos los derechos reservados.</p>
    </footer>
</body>
</html>