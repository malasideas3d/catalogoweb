<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <link rel="stylesheet" type="text/css" href="./index.css">
    <script type="module" src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="./index.js"></script>
    <title>Catalogo - MI3D</title>
    <link rel="shortcut icon" type="image/x-icon" href="media/logofavicon.ico">
</head>
<body>

    <div id="idContainer">

    </div>
    <script>
        // fImagenCarga('','idImagenCarga','media/logo.png','150px', 'idContainer')
        // Paso 1: Reemplaza TU_ID_DE_ARCHIVO con el ID de tu archivo de Google Drive
        const googleDriveFileId = '1-_aa4edxuc6LhyEuFyYBUGUCuuQd-k6E'; 
        const jsonUrl = `https://drive.google.com/uc?export=download&id=${googleDriveFileId}`;
        console.log(jsonUrl);
        // Paso 2: Usar la API Fetch para leer el archivo JSON
        fetch(jsonUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('No se pudo cargar el archivo. Verifica el ID y los permisos.');
                }
                return response.json(); // Convertir la respuesta a JSON
            })
            .then(data => {
                // Paso 3: Manipular los datos y mostrarlos en la página
                const contentDiv = document.getElementById('json-content');

                // Asegúrate de que 'data' sea un array. 
                // En este ejemplo, asumimos que el JSON es un array de objetos
                if (Array.isArray(data)) {
                    data.forEach(item => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'item';
                        
                        // Ejemplo: Si cada objeto tiene 'nombre' y 'precio'
                        itemDiv.innerHTML = `
                            <h2>JOHANN LOZADA</h2>
                            <h2>${item.cNombreEmpresa}</h2>
                            <p>Precio: $${item.cLogoEmpresa}</p>
                            <p>Disponible: ${item.cFondoEmpresa}</p>
                        `;

                        contentDiv.appendChild(itemDiv);
                    });
                } else {
                    contentDiv.textContent = 'El archivo JSON no contiene un array.';
                }
            })
            .catch(error => {
                console.error('Error al cargar el archivo JSON:', error);
                document.getElementById('json-content').textContent = 'Error al cargar los datos: ' + error.message;
            });
    </script>

</body>
</html>